<!DOCTYPE HTML>
<html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@tim_hosgood">
    <meta name="twitter:title" content="Everything is Stokes'; everything is coend // Tim Hosgood">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="https://thosgood.com/assets/images/me.jpg">

    <title>Everything is Stokes'; everything is coend | Tim Hosgood</title>

    <link rel="stylesheet" href="/assets/css/global.css">
    <link rel="stylesheet" href="/assets/css/blog.css">
    <link rel="stylesheet" href="/assets/css/post.css">
    <link rel="stylesheet" href="/assets/css/citations.css">

    <link rel="stylesheet" href="/assets/css/tachyons.css">
    <link rel="stylesheet" href="/assets/katex/katex.min.css">
</head>

  <body>

    <div id="header-wrapper" class="h3-ns w-100 flex items-center justify-center">
  <div id="header" class="w-60-ns w-80-m flex flex-wrap items-center">
    <div class="w-third-ns tl pb0-ns pb2 w-100">
      <span class="f4-ns f5"><a class="link" href="/">Tim Hosgood</a></span>
    </div>
    <div id="nav_bar" class="w-two-thirds-ns tr w-100">
      <ol class="fr-ns list ma0 pl0">
        <li class="ph2-ns ph1 dib">
          <a class="link f4-ns f5" href="/work/">Work</a>
        </li>
        <li class="ph2-ns ph1 dib">
          <a class="link f4-ns f5" href="/translations/">Translations</a>
        </li>
        <li class="ph2-ns ph1 dib">
          <a class="link f4-ns f5" href="/blog/">Blog</a>
        </li>
        <li class="pl2-ns pl1 dib">
          <a class="link f4-ns f5" href="/cv/">CV</a>
        </li>
      </ol>
    </div>
  </div>
</div>

    <div class="mw7 flex flex-column center">
      <div id="main" class="w-100 flex flex-wrap items-start lh-title mv3 ph4">
        
  <div id="post-nav" class="w-80-ns w-100">
    <!-- Display settings -->
    <ul id="colour-select" class="fl">
      <li>
        <button type="button" onclick="lightStyle()">
          Light
        </button>
      </li>
      <li>
        <button type="button" onclick="darkStyle()">
          Dark
        </button>
      </li>
    </ul>
    <!-- Navigation -->
    <a href="/blog/#2019-09-04-stokes-coend-" class="fr f5">← Return to all posts</a>
  </div>
  <div id="post-content" class="w-80-ns ph3-ns w-100">
    <h1 id="post-title">Everything is Stokes'; everything is coend</h1>
    <h2 id="post-part"></h2>
    <h6 id="post-date">4th September, 2019</h6>
    <div class="tag-list">
      <a href="/blog/tags/category-theory" rel="tag">category-theory</a>
    </div>
    <!-- Other posts in the same series -->
    
    <!-- Content -->
    <p>For category theorists, the idea that “everything is a Kan extension”
is a familiar one, as is the slightly more abstract version “everything
is a (co)end”. For differential geometers, the idea that “everything is
Stokes’ theorem” is sort of the equivalent adage. In an entirely typical
turn of events, it seems that these two seemingly unrelated aphorisms
can be linked together, as I found out today on Twitter.</p>
<!-- more -->
<p>Today, <a href="https://twitter.com/ququ7"><code>@ququ7</code></a>
tweeted/twote/twut that, <a href="https://twitter.com/ququ7/status/1169048827703287814">a few years
back, Tim Campion had told him how Stokes’ theorem is a result about
coends</a>. All I want to do here is share this great little snippet,
but I won’t be doing much more than just repeating exactly the contents
of the above tweet, so you might as well just go check it out there!</p>
<p>Here’s the idea. We look at <span class="math inline">\mathbb{N}</span> as a poset, the category <span class="math inline">\mathsf{Vect}_\mathbb{R}</span> of real-vector
spaces, and fix some manifold <span class="math inline">X</span>. Then
we have two pretty standard functors.</p>
<p>Firstly, we have <span class="math inline">C^X:\mathbb{N}^\mathrm{op}\to\mathsf{Vect}_\mathbb{R}</span>,
which sends <span class="math inline">n\in\mathbb{N}</span> to the free
vector space <span class="math inline">C_n=\langle\varphi\colon Y\to
X\rangle_\mathbb{R}</span>, where <span class="math inline">\varphi\colon Y\to X</span> are smooth maps from
compact, <span class="math inline">n</span>-dimensional, oriented
manifolds <span class="math inline">Y</span> with boundary, and acts on
morphisms by sending <span class="math inline">n\to n+1</span> to the
map <span class="math inline">\partial\colon C_{n+1}\to C_n</span>,
given by taking the boundaries of our manifolds <span class="math inline">Y</span>.</p>
<p>Secondly, there is the de Rham functor <span class="math inline">\Omega_X\colon\mathbb{N}\to\mathsf{Vect}_\mathbb{R}</span>,
which sends <span class="math inline">n\in\mathbb{N}</span> to the space
<span class="math inline">\Omega_X^n</span> of smooth <span class="math inline">n</span>-forms on <span class="math inline">X</span>, and sends <span class="math inline">n\to
n+1</span> to the exterior derivative <span class="math inline">\mathrm{d}\colon\Omega_X^n\to\Omega_X^{n+1}</span>.</p>
<p>Now we use the usual tensor product on <span class="math inline">\mathsf{Vect}_\mathbb{R}</span> to get a functor</p>
<p><span class="math display">C^X\otimes\Omega_X\colon\mathbb{N}\times\mathbb{N}^\mathrm{op}\to\mathsf{Vect}_\mathbb{R}.</span></p>
<p>We claim that we can make <span class="math inline">C^X\otimes\Omega_X\to\mathbb{R}</span> into a
<strong>cowedge</strong>, i.e. that, for all <span class="math inline">n\in\mathbb{N}</span>, we can find morphisms <span class="math inline">w_n\colon C_n^X\otimes\Omega_X^n\to\mathbb{R}</span>
such that, for any <span class="math inline">f\colon m\to n</span> (and
here we can restrict to <span class="math inline">m\to m+1</span>, since
these are the morphisms in <span class="math inline">\mathbb{N}</span>
that generate all the others (that aren’t the identity)), the square</p>
<p><span class="math display">\begin{array}{ccc}
    C_{m+1}^X\otimes\Omega_X^m &amp; \xrightarrow{\partial\,\otimes\,1}
&amp; C_m^X\otimes\Omega_X^m\\
    {\scriptstyle 1\,\otimes\,\mathrm{d}}\bigg\downarrow &amp;&amp;
\bigg\downarrow{\scriptstyle w_m}\\
    C_{m+1}^X\otimes\Omega_X^{m+1} &amp; \xrightarrow{w_{m+1}} &amp;
\mathbb{R}
\end{array}</span></p>
<p>commutes.</p>
<p>The surprising fact, then, is that Stokes’ theorem tells us that
taking <span class="math inline">w_n</span> to be defined by</p>
<p><span class="math display">\int\colon(\varphi\colon Y\to
X)\otimes\omega \mapsto \int_Y \varphi^*\omega</span></p>
<p>gives us exactly what we want. Indeed, Stokes’ theorem (in some form)
says that</p>
<p><span class="math display">\int_{\partial Z}\tau=\int_Z
\mathrm{d}\tau</span></p>
<p>and, since pullbacks commute with <span class="math inline">\mathrm{d}</span>, when we replace <span class="math inline">\tau</span> with <span class="math inline">\varphi^*\omega</span>, we get that the above square
commutes. Neat!</p>
<p>What is not entirely clear to me, however, is if this is really a
fact about <em>coends</em>, since then we would need to show that this
cowedge is universal. This is something for me to think about the next
time I’m bored on the tram.</p>
<hr>
<p>All in all, this is a bit similar to an abstract version of de Rham’s
theorem, which says that the above integration map (when we replace
<span class="math inline">C_n</span> by <em>singular</em> cochains) is a
quasi-isomorphism, and the commuting square sort of encodes the fact
that integration respects the differentials of the two complexes. (This
is what <a href="https://twitter.com/littmath">Daniel Litt</a> pointed
out <a href="https://twitter.com/littmath/status/1169081052100530177">in
a reply</a>).</p>
<p>One other question that I do have is the following: is there
something to be gained by writing <span class="math inline">C_X</span>
as the functor represented by <span class="math inline">X</span>, and
using the coend version of the Yoneda lemma? I don’t know, but would
love to find out!</p>

    <!-- Comments -->
    <hr>
    <p class="black-70 i">
      Comments can be written in Markdown. To post, you must either provide a name or tick the box to comment anonymously (or, if you see yourself wanting to comment often, you can login).
    </p>
    <script defer src="https://commento.thosgood.com/js/commento.js" data-css-override="https://thosgood.com/assets/css/commento.css">
    </script>
    <div id="commento"></div>
  </div>

      </div>
    </div>
    <div id="footer-wrapper" class="h3-ns w-100 flex items-center justify-center">
  <div id="footer" class="w-60-ns w-80-m pa3 flex flex-wrap items-center f6">
    
    <div class="w-third-ns tl w-100">
      <ul class="list pl0 ma0">
        <!-- <li>Tim Hosgood</li> -->
        <!-- <li>Stockholms Universitet</li> -->
        <li><a href="mailto:tim.hosgood@posteo.net">tim.hosgood@posteo.net</a></li>
      </ul>
    </div>
    
    <div class="w-two-thirds-ns tr w-100">
      <ul class="ma0-ns fr-ns list ph0 mt3">
        <li class="ph2 di"><a href="https://twitter.com/tim_hosgood">Twitter</a></li>
        <li class="ph2 di"><a href="https://github.com/thosgood">GitHub</a></li>
        <li class="ph2 di"><a href="https://matrix.to/#/@thosgood:matrix.org">Element</a></li>
        <li class="pl2 di"><a href="https://arxiv.org/a/hosgood_t_1">arXiv</a></li>
      </ul>
    </div>

  </div>
</div>

    
      <script type="text/javascript" src="/assets/jquery-3.4.1.slim.min.js"></script>


<!-- Use KaTeX rendering for all static page content -->

<script type="text/javascript" src="/assets/katex/katex.min.js"></script>
<script type="text/javascript">
  $("span[class='math inline']").replaceWith(
    function(){
      var tex = $(this).text();
      return "<span class=\"inline-equation\">" + 
             katex.renderToString(tex, {throwOnError: false}) +
             "</span>";
  });

  $("span[class='math display']").replaceWith(
    function(){
      var tex = $(this).text();
      return "<div class=\"equation\">" + 
             katex.renderToString(tex, {displayMode: true, fleqn: true, throwOnError: false}) +
             "</div>";
  });
</script>

    

  </body>
</html><!-- Render maths in comments --><html>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"></script>
<script type="text/javascript">
  $(window).bind("load", function() {
    renderMathInElement(document.getElementById('commento'), {
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          throwOnError : false,
          fleqn : true
        });
  });
</script>


<!-- Display settings (dark mode, font, etc) -->

<script type="text/javascript">
  const body = document.getElementsByTagName('body')[0];
  const content = document.getElementById('post-content');

  function lightStyle() {
    body.style.background = '#f0f8ff';
    body.style.color = 'black';
    document.getElementById('post-nav').style.background = '#eee'
    var links = document.getElementsByTagName('a');
    for (var i = 0; i < links.length; i++) {
      links[i].style.color = '#2a7ae2';
    }
  }
  function darkStyle() {
    body.style.background = '#333';
    body.style.color = '#eee';
    document.getElementById('post-nav').style.background = '#555'
    var links = document.getElementsByTagName('a');
    for (var i = 0; i < links.length; i++) {
      links[i].style.color = '#82b2ee';
    }
    var tables = document.getElementsByTagName('table');
    for (var i = 0; i < tables.length; i++) {
      tables[i].style.color = 'black';
    }
  }
</script>
</html>
