<!DOCTYPE HTML>
<html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@tim_hosgood">
    <meta name="twitter:title" content="Matrix: open, secure, and decentralised // Tim Hosgood">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="https://thosgood.com/assets/images/me.jpg">

    <title>Matrix: open, secure, and decentralised | Tim Hosgood</title>

    <link rel="stylesheet" href="/assets/css/global.css">
    <link rel="stylesheet" href="/assets/css/blog.css">
    <link rel="stylesheet" href="/assets/css/post.css">
    <link rel="stylesheet" href="/assets/css/citations.css">

    <link rel="stylesheet" href="/assets/css/tachyons.css">
    <link rel="stylesheet" href="/assets/katex/katex.min.css">
</head>

  <body>

    <div id="header-wrapper" class="h3-ns w-100 flex items-center justify-center">
  <div id="header" class="w-60-ns w-80-m flex flex-wrap items-center">
    <div class="w-third-ns tl pb0-ns pb2 w-100">
      <span class="f4-ns f5"><a class="link" href="/">Tim Hosgood</a></span>
    </div>
    <div id="nav_bar" class="w-two-thirds-ns tr w-100">
      <ol class="fr-ns list ma0 pl0">
        <li class="ph2-ns ph1 dib">
          <a class="link f4-ns f5" href="/work/">Work</a>
        </li>
        <li class="ph2-ns ph1 dib">
          <a class="link f4-ns f5" href="/translations/">Translations</a>
        </li>
        <li class="ph2-ns ph1 dib">
          <a class="link f4-ns f5" href="/blog/">Blog</a>
        </li>
        <li class="pl2-ns pl1 dib">
          <a class="link f4-ns f5" href="/cv/">CV</a>
        </li>
      </ol>
    </div>
  </div>
</div>

    <div class="mw7 flex flex-column center">
      <div id="main" class="w-100 flex flex-wrap items-start lh-title mv3 ph4">
        
  <div id="post-nav" class="w-80-ns w-100">
    <!-- Display settings -->
    <ul id="colour-select" class="fl">
      <li>
        <button type="button" onclick="lightStyle()">
          Light
        </button>
      </li>
      <li>
        <button type="button" onclick="darkStyle()">
          Dark
        </button>
      </li>
    </ul>
    <ul id="font-select" class="fl">
      <li>
        <button type="button" onclick="sansStyle()">
          Sans
        </button>
      </li>
      <li>
        <button type="button" onclick="serifStyle()">
          Serif
        </button>
      </li>
    </ul>
    <!-- Navigation -->
    <a href="/blog/#2019-10-09-matrix-riot-what-is-it" class="fr f5">‚Üê Return to all posts</a>
  </div>
  <div id="post-content" class="w-80-ns ph3-ns w-100">
    <h1 id="post-title">Matrix: open, secure, and decentralised</h1>
    <h2 id="post-part"></h2>
    <h6 id="post-date">9th October, 2019</h6>
    <div class="tag-list">
      <a href="/blog/tags/matrix" rel="tag">matrix</a>, <a href="/blog/tags/general" rel="tag">general</a>
    </div>
    <!-- Other posts in the same series -->
    
    <!-- Content -->
    <ol id="toc">
<li><a href="#what-are-matrix-riot-etc.">What are Matrix, Riot, etc.?</a></li>
<li><a href="#why-do-you-write-latex-in-scare-quotes">Why do you write ‚ÄòLaTeX‚Äô in scare quotes?</a></li>
<li><a href="#why-are-you-telling-me-all-this">Why are you telling me all this?</a></li>
<li><a href="#if-i-do-now-care-what-can-i-do">If I do now care, what can I do?</a></li>
</ol>
<p>Anybody who follows me on Twitter will have heard me go on about Matrix, and Riot, and maybe a whole host of other such things. I understand that most people probably won‚Äôt really care much about it all, but I thought that I‚Äôd try to explain a bit why I‚Äôm quite so passionate about this stuff, and why I‚Äôm bothering to try to work on ‚ÄòLaTeX‚Äô support (with scare quotes for good reason, as explained later).</p>
<!-- more -->
<h1 id="what-are-matrix-riot-etc.">What are Matrix, Riot, etc.?</h1>
<a href="#post-title" class="toc-back">‚Üü</a>
<p><strong>tl;dr: Matrix is like email, and Riot is like an email client.</strong></p>
<p>Anybody who has ever used IRC has some idea of what Matrix is, and anybody who hasn‚Äôt, but has used MSN Messenger/Facebook Messenger/Slack/WhatsApp has a pretty vague idea too (or at least, will do, when I explain it a bit).</p>
<p>(As a warning, although I‚Äôve been making small contributions to Matrix and Riot, I do not work for them, and it has been a very long time since I worked in any sort of technology sector, so I hope I don‚Äôt mess up any important points too badly. Sorry in advance to any experts out there.)</p>
<p>Matrix is, at its very heart, <a href="https://matrix.org/">a <em>specification (or, protocol) for communication</em>.</a> What does this mean? I would explain it to a mathematician by saying that it is a set of properties that a method of communication can satisfy, or maybe an axiomatisation of such a system. This is where it has some similarities to IRC, or even something a bit more like WhatsApp.</p>
<p>You can think of Matrix as ‚Äòemail‚Äô in the following sense. There are many ways of sending emails, in that you can use any <em>client</em> that you want to (e.g.¬†GMail, Apple Mail, Thunderbird, Mutt, Telnet), and you can send to and from people with email addresses hosted by different people (e.g.¬†I, from my <code>posteo.net</code> email address, can send an email to somebody with an <code>@gmail.com</code> email address, who can then reply to me and CC in somebody whose email ends with <code>@yahoo.fr</code>, and so on). But there is some underlying <em>standard</em> of <em>what an email actually is</em> that all of these clients and hosts understand and agree to. It‚Äôs similar to whenever you open a webpage in any browser: all of the (people who make the) browsers (well, almost all‚Ä¶) have <em>agreed</em> on what any piece of HTML they see should actually mean, and how it should be displayed. There are lots of subtleties I‚Äôm skipping over here, I‚Äôm afraid, but it‚Äôs just to motivate the general idea.</p>
<p>So then, what is Riot? <a href="https://riot.im">Riot is a client for sending messages via Matrix.</a> Further, it‚Äôs the ‚Äòofficial‚Äô client, in that it‚Äôs made by (sort of) the same people who make Matrix. There are lots of clients out there now, for all sorts of operating systems, and written in all sorts of different programming languages (and, recently, one written in about 8 lines of Bash script (rather long lines some of them, sure, but still‚Ä¶)). All of them (as far as I am aware) are entirely <em>open source</em>: anybody can go and read any part of the code, and understand how anything works, and even make suggestions or additions or fix errors, or even just do some spellchecking on documentation files; people can help however they want to.</p>
<p>What (to me, at least, but I‚Äôm sure to many of the hundreds of thousands of people who read this blog) is important is that Matrix and, to take the canonical example, Riot, are built in a way that makes them pretty much the opposite of other new technologies which we now sometimes find forced upon ourselves, because everything here is <em>free, open source, decentralised (but federated), and secure</em>.</p>
<p>Most of those words are probably pretty self-explanatory, but it‚Äôs worth mentioning the ‚Äòdecentralised (but federated)‚Äô bit. The former means that you can go and find an old computer (or even use part of your new one, if you like) and ‚Äòbuild‚Äô your very own Matrix Homeserver, which means that you can now send messages and receive messages to people on any other homeserver! This is like the fact that you can send emails from any email host to any other. Imagine what a nightmare it would be if you could only email people with the same <code>@foo.bar</code> email address. Unfortunately, this is how most technologies seem to head this day, because the hope is that everybody will flock to the biggest platform to be able to speak with the most people, and then shady people can flock to smaller ones, in turn giving them a bad name and leading for the big one to demand that the smaller one shuts down and wow we‚Äôre one step closer to an authoritative monopoly, which is the ‚Äòbest‚Äô kind, because it literally controls who we can speak to üôÉ.</p>
<p>Not to point fingers, I‚Äôll just point hands: WhatsApp, Facebook Messenger, Slack, Telegram, and Signal. All very different use cases, but all have basically this problem: the only way that I can send messages to somebody on Facebook Messenger is by using Facebook Messenger: I don‚Äôt (really) have a choice of clients, and I don‚Äôt have a way of building my own copy of Facebook messenger that I can use, because this would give the added bonus of knowing exactly how Facebook Messenger works behind the scenes.</p>
<p>Luckily though, I‚Äôm sure that Mark Zuckerberg would love to share all the lovely secrets about what Facebook Messenger does during the process of ‚Äòdeliver this message from Person A to Person B‚Äô. It must be because there are many techincal details that he wants to keep secret. Unfortunately, it can‚Äôt be anything about how the message is sent, or encrypted, or anything like that, because Riot‚Äôs source code contains basically all these sorts of things that work just as well, if not better, than Facebook Messenger‚Äôs. Anyway, luckily though, Mark Zuckerberg is simultaneously a man who we can all trust with anything, and also the sort of man who would definitely come forward and tell us if there were anything that he were actually trying to hide. Our society today and the sorts of people in power really make it very easy to trust everybody all the time. One of them even told me that if you think that‚Äôs not the case because you read it in a newspapers or something then the newspaper just made it up, so that‚Äôs nice.</p>
<p>Anyway, back to happier business. Wouldn‚Äôt it be nice to have a method of communication, like email, where anybody can send messages to anybody else, irrelevant of what app/program they use, and we all know exactly what‚Äôs happening, down to the goriest details of implementation if we really want? I think the answer is a pretty firm yes. Bonus points if things are being run and developed by anybody who wants to help (with their work ‚Äòpeer-reviewed‚Äô by some minimum of people, but also by anybody else who wants to). Even more bonus points when all the clients can be open-source, so we can fix any little problems about them that annoy us, or just make our own for scratch.</p>
<p><em>‚ÄúBut,‚Äù</em> one might think, <em>‚Äúif everything is out in the open, then where is my privacy?‚Äù</em> To this, there are really two answers: one to each of the two interpretations of what the questions might be asking.</p>
<p>Firstly, if anybody is trying to explain why a system that ensures privacy/security by saying ‚Äúoh but I can‚Äôt tell you the details of how it works, because then hackers could hack it‚Äù, then they are almost certainly explaining <a href="https://en.wikipedia.org/wiki/Security_through_obscurity">a pretty shitty system</a>. Good cryptographic algorithms are those where every single step is read by hundreds of different scientists and developers and mathematicians, over and over, for 30 years, and everybody agrees that all the pieces they‚Äôve read (maybe even the whole thing) are good, and guarantee security in practice for these and those reasons. A good cryptographic thing is one where you know <em>how</em> it works, but where this has absolutely no way of telling you how it works <em>backwards</em>, in some sense.</p>
<p>Secondly, and as an answer to the question that was probably the intended one, is that Matrix <em>is</em> more secure than how I described it, because all of your messages can be send with <em>end-to-end encryption</em>. This is something that, for example, WhatsApp offers, but they don‚Äôt tell us what they do at either ‚Äòend‚Äô, i.e.¬†before the message has been encrypted and when the message has been decrypted. Heck, for all we know they could be attaching a little something to your message before decryption, and then quickly sneaking it away to keep on the other phone just after decoding. Who knows?</p>
<p>Generally, I lean very far to the ‚Äòcopyright has become, thanks to certain big names, a system of oppression and removal-of-choice for the individual, and an incredibly <em>incredibly</em> profitable system for those in power‚Äô side of the argument, but <strong>even so</strong>, it makes sense to ask why WhatsApp want to keep all their code secret. I understand that, sometimes, it is unfair to expect a piece of code to be open source: people want to make a living by making and selling software, and quite often, I think, the people <em>know</em> that they want to make money because you need money to have an easier (to put it mildly) time in life, and don‚Äôt <em>really</em> want to have to work so un-collaboratively and in secret, but have to, for various reasons which I will not go in to, lest this becomes a drug-fuelled foray into politics.</p>
<h2 id="so-its-just-like-that-xckd-comic-right">So it‚Äôs just like that XCKD comic, right?</h2>
<p>In almost any conversation, there is a relevant XKCD: here, it‚Äôs <a href="https://xkcd.com/927/">#927</a> : there are so many competing standards, so why try for another one?</p>
<figure>
<img src="/assets/post-images/2019-10-09-matrix-riot-what-is-it-xkcd927.png" title="The alt text on the original is also great." alt="The XKCD in question"><figcaption aria-hidden="true">The XKCD in question</figcaption>
</figure>
<p>First of all, as mentioned above, Matrix solves a pretty big problem by being <em>federated</em>: like email, it doesn‚Äôt matter who you choose to trust (I still use the word ‚Äòtrust‚Äô here, because that‚Äôs always something you should think about) to give you your username and deal with your message sending/receiving (e.g.¬†<code>matrix.org</code>, <code>matrix.sibnsk.net</code>, or <code>converser.eu</code>), because you can always send and receive messages from people who made a different choice. To me, this is just so obvious! Why did we move from email, and then SMS, to things like chat apps‚Ä¶</p>
<p>But the main reason why I think that Matrix doesn‚Äôt really fall afoul of the (truthfully accurate) problem in this XKCD is that <em>Riot has bridges</em>. Bridges are ways for people to interact with chat rooms (or conversations, which are just like two-people chat rooms) in <em>other apps/programs.</em> That is, <em>without leaving Riot</em>, I can send and reply to emails, take part in a conversation on Slack, and message somebody a funny (yet cute) photo of a bird on WhatsApp. So Matrix is not saying ‚Äòeverybody has to use me <code>&gt;:|</code>‚Äô, but instead ‚Äòanybody who uses me can also talk to people not using me <code>:)</code>‚Äô.</p>
<h1 id="why-do-you-write-latex-in-scare-quotes">Why do you write ‚ÄòLaTeX‚Äô in scare quotes?</h1>
<a href="#post-title" class="toc-back">‚Üü</a>
<p>What I‚Äôve been working on for a while is trying to find a way to be able to type formatted maths in messages.</p>
<p>This started off as the naive idea of teaching Riot to understand KaTeX, MathJax, or MathML, or <em>something</em> ‚ÄòLaTeX-ish‚Äô. LaTeX is a full <em>language</em>, and I just want to be able to message somebody in a way prettier than typing out raw LaTeX code. A first step, then, would be to just put a little LaTeX compiler into Riot (something like LaTeXiT, which I <em>do</em> use for a <em>lot</em> of things, including doing exactly this (by hand) when I want to have some maths in my email), so that we can send maths and the viewer can see them as images. This has a few problems thought, like the fact that we then can‚Äôt really just edit the message after we‚Äôve sent it, because it‚Äôs now an image; and also, LaTeX installations are generally full of a lot of faff (even TinyTeX ‚Äî something I personally use and love ‚Äî has just so many capabilities that we don‚Äôt need, like knowing how to make tables of contents, or to do page numbering, or margins, or tables, or‚Ä¶ any other number of things that are either not necessary for instant messages, or already possible to do in much simpler ways): all we really want is to be able to turn something like</p>
<pre><code>\oiint_{\partial\Sigma}\omega\,\mathrm{d}\tau</code></pre>
<p>into <span class="math inline">\oiint_{\partial\Sigma}\omega\,\mathrm{d}\tau</span>.</p>
<p>So I write ‚ÄòLaTeX‚Äô support, because we don‚Äôt really want LaTeX, but instead something like MathJax or KaTeX: something that can just display LaTeX syntax as nice SVG/HTML content.</p>
<p>But, of course, the project progressed somewhat, and, after having talked (talken? right now, talken sounds like a much better word) to some very knowledgeable and talented people, some involved in the same way I am, and some involved by being employees of the non-profit organisation that helps make Matrix and Riot. The main consensus now is that, we should <em>not</em> just be asking how to make Riot display LaTeX syntax as recognisable maths (this is something that‚Äôs easy enough to do that even I did it, having what I would dare to call a negative amount of experience with Javascript: the result is <a href="https://pigeon.digital">https://pigeon.digital</a>); we should be asking how to deal with the idea of wanting to send mathematical syntax (that is easy to type) in a way that agrees with Matrix, i.e.¬†how to add in rules to the Matrix specification that say how mathematical symbols should be dealt with.</p>
<p>Obviously, for me, this is really exciting, but it‚Äôs actually exciting for other people too, I promise! Hear me out.</p>
<h1 id="why-are-you-telling-me-all-this">Why are you telling me all this?</h1>
<a href="#post-title" class="toc-back">‚Üü</a>
<p>What people are now trying to do is to come up with a way of sending ‚ÄòLaTeX‚Äô source code (here the square quotes mark the fact that we don‚Äôt want to be able to send arbitrary LaTeX code to be executed, for fair security reasons) within the Matrix protocol. Then individual clients can decide how they want to display this. For example, Riot already knows how to display maths as HTML+CSS using KaTeX, and it can almost, itself, generate images of the rendered maths to send alongside the plain text message, so that other clients who <em>can‚Äôt</em> turn LaTeX into something viewable, can use these images as fallbacks instead. It might even be the case that basically nobody does any ‚Äòprogramming‚Äô, and the messages are just sent as plain text, but then the homeservers do some media magic and accompany the messages with a nice rendered version of the maths.</p>
<p>What I‚Äôm saying, then, analogously, is that we‚Äôre trying to find a way to <em>fit LaTeX syntax into the specifications</em>, which would be a pretty great thing for mathematicians everywhere! With the rise of environmentally-conscientious conferences, being able to discuss and communicate long-distance is becoming increasingly important, and, for mathematicians, at least, having a way to send messages with nice LaTeX stuff inside them, could really be a wonderful experience. And not just that, but also to be able to send such messages to people who <em>aren‚Äôt even using Matrix</em>. Things are much easier when people are all on the same system, but a good system should never only function in such a way that it has to be the only one existing.</p>
<p>Finally, I just want to point out what this might mean on a not-necessarily-smaller-but-maybe-horizontally-located level: there are still many active IRC chat rooms, most notably, maybe, being the one for homotopy type theory. At the moment, Riot can bridge to IRC, so a single room can be at once an IRC room and a Matrix room, but with the Matrix room supporting things like saving history of conversations that take place while you‚Äôre logged out, and images, file sharing, voice calls, video calls, E2E encryption, etc.. Seeing how nice it is to still have chat rooms, where you can go and ask a question and get answers (as opposed to, say, stackexchange/mathoverflow, where you can ask questions, but all discussions must be moved to a separate thread, and questions must adhere to a certain structure, etc. etc. (not taht I‚Äôm saying that stackexchange is bad, not at all, but just that it is meant for a different (more rigorous) purpose)), it seems even nicer to me that we could have ones that have a bit more support for modern things that we take for granted (images, file sharing, etc., as above).</p>
<h1 id="if-i-do-now-care-what-can-i-do">If I do now care, what can I do?</h1>
<a href="#post-title" class="toc-back">‚Üü</a>
<p>Well, depending on how you feel, and what you like to do, there are lots of things that you could do! Here are some suggestions, in no particular order.</p>
<ol type="1">
<li>Switch from using Slack/Discord or whatever you currently use, and give Riot a try. If you don‚Äôt like it, maybe ask some questions about if things can be changed or not. If you decide that you much prefer Slack/Discord, then go back! (maybe after trying a different Matrix client, if you‚Äôre feeling extra generous ‚Äî saying ‚ÄúI don‚Äôt like Matrix‚Äù because you don‚Äôt like Riot is a bit like saying ‚ÄúI don‚Äôt like email‚Äù because you don‚Äôt like Thunderbird. There are a bunch of Matrix clients, from Electron-based ones to purely command line ones.) Just please keep in mind that Riot is <em>open-source</em>: if there‚Äôs something missing, or something broken, or something that you don‚Äôt like, then you can just say so! and if you know how, you can implement/fix/add it! Riot probably also has most of the things that you are used to: public rooms, private rooms, one-to-one chats, room bots, and the like.</li>
<li>Join some of the standard Matrix rooms to listen and learn (as well as to say hello to people and talk)! These are ones like Matrix HQ (<a href="https://matrix.to/#/#matrix:matrix.org"><code>#matrix:matrix.org</code></a>) and Riot Web/Desktop (<a href="https://matrix.to/#/#riot-web:matrix.org"><code>#riot-web:matrix.org</code></a>).</li>
<li>If you want to learn more about how Matrix actually works, or about other clients, or anything at all really, then just ask me (via email, Twitter, or even Matrix itself!) and I will either answer, or point you in the direction of somebody who can! If you want to get involved in these discussions about ‚ÄòLaTeX‚Äô, then I can point you to the rooms where these discussions are taking place.</li>
<li>If you like maths, but have never really used IRC rooms before (or those chat rooms on stackexchange), or even if you <em>have</em> used them before, I guess, then why not come and see what they‚Äôre like? At the very least, I can guarantee that they‚Äôre super welcoming and never home to responses like ‚Äúthat‚Äôs a stupid question: please do more research before asking stuff like that here‚Äù (although, sure, the caveat is that they‚Äôre very small‚Ä¶). There are currently two maths rooms that I run (<a href="https://matrix.to/#/#math.CT:matrix.org"><code>#math.CT:matrix.org</code></a> and <a href="https://matrix.to/#/#math.AT:matrix.org"><code>#math.AT:matrix.org</code></a>), and a community that I moderate (<a href="https://matrix.to/#/+mathematics:matrix.org"><code>+mathematics:matrix.org</code></a>), which keeps a list of interesting rooms to do with mathematics. Don‚Äôt see a room that you‚Äôd like to exist? Then make one! You can make it private and just use it with your local team/work group/reading group; you can make it public so that anybody can see it; or you can suggest for it to be added to the Mathematics community list!</li>
</ol>
<p>If you‚Äôve made it this far, then thank you. I should be asleep by now, given that I started writing this an hour ago, and it should really have taken about 15 minutes to write. I hope it‚Äôs at least mildly coherent.</p>

    <!-- Comments -->
    <hr>
    <p class="black-70 i">
      Comments can be written in Markdown. To post, you must either provide a name or tick the box to comment anonymously (or, if you see yourself wanting to comment often, you can login).
    </p>
    <script defer src="https://commento.thosgood.com/js/commento.js" data-css-override="https://thosgood.com/assets/css/commento.css">
    </script>
    <div id="commento"></div>
  </div>

      </div>
    </div>
    <div id="footer-wrapper" class="h3-ns w-100 flex items-center justify-center">
  <div id="footer" class="w-60-ns w-80-m pa3 flex flex-wrap items-center f6">
    
    <div class="w-third-ns tl w-100">
      <ul class="list pl0 ma0">
        <!-- <li>Tim Hosgood</li> -->
        <!-- <li>Stockholms Universitet</li> -->
        <li><a href="mailto:tim.hosgood@posteo.net">tim.hosgood@posteo.net</a></li>
      </ul>
    </div>
    
    <div class="w-two-thirds-ns tr w-100">
      <ul class="ma0-ns fr-ns list ph0 mt3">
        <li class="ph2 di"><a href="https://twitter.com/tim_hosgood">Twitter</a></li>
        <li class="ph2 di"><a href="https://github.com/thosgood">GitHub</a></li>
        <li class="ph2 di"><a href="https://matrix.to/#/@thosgood:matrix.org">Element</a></li>
        <li class="pl2 di"><a href="https://arxiv.org/a/hosgood_t_1">arXiv</a></li>
      </ul>
    </div>

  </div>
</div>

    
      <script type="text/javascript" src="/assets/jquery-3.4.1.slim.min.js"></script>


<!-- Use KaTeX rendering for all static page content -->

<script type="text/javascript" src="/assets/katex/katex.min.js"></script>
<script type="text/javascript">
  $("span[class='math inline']").replaceWith(
    function(){
      var tex = $(this).text();
      return "<span class=\"inline-equation\">" + 
             katex.renderToString(tex, {throwOnError: false}) +
             "</span>";
  });

  $("span[class='math display']").replaceWith(
    function(){
      var tex = $(this).text();
      return "<div class=\"equation\">" + 
             katex.renderToString(tex, {displayMode: true, fleqn: true, throwOnError: false}) +
             "</div>";
  });
</script>

    

  </body>
</html><!-- Render maths in comments --><html>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"></script>
<script type="text/javascript">
  if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
    renderMathInElement(document.getElementById('commento'), {
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          throwOnError : false,
          fleqn: true
        });
  };
</script>


<!-- Display settings (dark mode, font, etc) -->

<script type="text/javascript">
  const body = document.getElementsByTagName('body')[0];
  const content = document.getElementById('post-content');

  function lightStyle() {
    body.style.background = '#f0f8ff';
    body.style.color = 'black';
    document.getElementById('post-nav').style.background = '#eee'
    var links = document.getElementsByTagName('a');
    for (var i = 0; i < links.length; i++) {
      links[i].style.color = '#2a7ae2';
    }
  }
  function darkStyle() {
    body.style.background = '#333';
    body.style.color = '#eee';
    document.getElementById('post-nav').style.background = '#555'
    var links = document.getElementsByTagName('a');
    for (var i = 0; i < links.length; i++) {
      links[i].style.color = '#82b2ee';
    }
    var tables = document.getElementsByTagName('table');
    for (var i = 0; i < tables.length; i++) {
      tables[i].style.color = 'black';
    }
  }

  function sansStyle() {
    content.style.fontFamily = 'WorkSans';
  }
  function serifStyle() {
    content.style.fontFamily = 'Domine';
  }
</script>
</html>
